/**
 * Complete Chat Theme for Cascais Fishing Platform
 * Imports all theme components and provides unified styling
 */

/* Import all theme components */
@import './stream-chat-theme.css';
@import './emoji-picker-theme.css';
@import './threading-theme.css';
@import './file-sharing-theme.css';
@import './responsive-chat-theme.css';

/* Root theme variables */
:root {
  /* Chat Theme Colors - Based on Cascais Fishing Brand */
  --fishing-ocean-blue: oklch(0.5 0.15 240);
  --fishing-sunset-orange: oklch(0.65 0.2 45);
  --fishing-light-sand: oklch(0.98 0.01 85);
  --fishing-soft-white: oklch(1 0 0);
  --fishing-dark-slate: oklch(0.25 0 0);
  --fishing-medium-gray: oklch(0.45 0 0);
  --fishing-neutral-border: oklch(0.92 0 0);

  /* Fishing-specific gradients */
  --fishing-wave-gradient: linear-gradient(135deg, var(--fishing-ocean-blue) 0%, oklch(0.45 0.12 220) 100%);
  --fishing-sunset-gradient: linear-gradient(135deg, var(--fishing-sunset-orange) 0%, oklch(0.7 0.18 35) 100%);
  --fishing-tide-gradient: linear-gradient(180deg, 
    oklch(0.98 0.005 220) 0%, 
    var(--fishing-soft-white) 50%,
    oklch(0.98 0.005 45) 100%
  );

  /* Enhanced shadows for depth */
  --fishing-shadow-water: 0 4px 20px oklch(0.5 0.15 240 / 0.15);
  --fishing-shadow-sunset: 0 4px 20px oklch(0.65 0.2 45 / 0.15);
  --fishing-shadow-depth: 0 8px 32px oklch(0.25 0 0 / 0.1);
  
  /* Animation easings */
  --fishing-ease-wave: cubic-bezier(0.4, 0, 0.2, 1);
  --fishing-ease-bounce: cubic-bezier(0.68, -0.55, 0.265, 1.55);
  --fishing-ease-smooth: cubic-bezier(0.25, 0.46, 0.45, 0.94);
}

/* Global chat container styling */
.fishing-chat-container {
  font-family: var(--font-sans), 'Montserrat', sans-serif;
  color: var(--fishing-dark-slate);
  background: var(--fishing-soft-white);
  --str-chat__primary-color: var(--fishing-ocean-blue);
  --str-chat__secondary-color: var(--fishing-sunset-orange);
}

/* Enhanced Stream Chat integration */
.str-chat.fishing-theme {
  /* Override Stream Chat variables with fishing theme */
  --str-chat__primary-color: var(--fishing-ocean-blue);
  --str-chat__secondary-color: var(--fishing-sunset-orange);
  --str-chat__accent-color: var(--fishing-light-sand);
  --str-chat__background-color: var(--fishing-soft-white);
  --str-chat__text-color: var(--fishing-dark-slate);
  --str-chat__border-color: var(--fishing-neutral-border);
  --str-chat__border-radius: 12px;
  
  /* Enhanced message bubble styling */
  .str-chat__message-simple__content {
    box-shadow: var(--fishing-shadow-water);
    transition: all 0.3s var(--fishing-ease-wave);
  }
  
  .str-chat__message-simple__content:hover {
    box-shadow: var(--fishing-shadow-depth);
  }
  
  /* Channel header with fishing branding */
  .str-chat__channel-header {
    background: var(--fishing-wave-gradient);
    box-shadow: var(--fishing-shadow-water);
  }
  
  /* Input area styling */
  .str-chat__message-input {
    background: var(--fishing-soft-white);
    border-top: 2px solid var(--fishing-neutral-border);
  }
}

/* Fishing-specific animations */
@keyframes fishingWaveFlow {
  0%, 100% { 
    background-position: 0% 50%; 
    transform: translateY(0px);
  }
  25% { 
    background-position: 25% 50%; 
    transform: translateY(-2px);
  }
  50% { 
    background-position: 100% 50%; 
    transform: translateY(0px);
  }
  75% { 
    background-position: 75% 50%; 
    transform: translateY(-1px);
  }
}

@keyframes fishingBubbleRise {
  0% {
    opacity: 0;
    transform: translateY(20px) scale(0.8);
  }
  50% {
    opacity: 0.8;
    transform: translateY(-5px) scale(1.05);
  }
  100% {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
}

@keyframes fishingCatchSuccess {
  0% { transform: scale(1); }
  15% { transform: scale(1.1) rotate(1deg); }
  30% { transform: scale(1.05) rotate(-1deg); }
  45% { transform: scale(1.1) rotate(1deg); }
  60% { transform: scale(1.05) rotate(-0.5deg); }
  75% { transform: scale(1.02) rotate(0.5deg); }
  100% { transform: scale(1) rotate(0deg); }
}

/* Enhanced message animations */
.str-chat__message-simple {
  animation: fishingBubbleRise 0.6s var(--fishing-ease-wave);
}

/* Special fishing message types */
.fishing-catch-message {
  background: var(--fishing-sunset-gradient);
  color: var(--fishing-soft-white);
  animation: fishingCatchSuccess 0.8s var(--fishing-ease-bounce);
  position: relative;
  overflow: hidden;
}

.fishing-catch-message::before {
  content: 'üé£';
  position: absolute;
  top: 8px;
  right: 8px;
  font-size: 20px;
  opacity: 0.7;
}

.fishing-weather-message {
  background: linear-gradient(135deg, 
    oklch(0.6 0.15 200) 0%, 
    oklch(0.7 0.12 220) 100%
  );
  color: var(--fishing-soft-white);
  border-left: 4px solid oklch(0.8 0.2 200);
}

.fishing-location-message {
  background: linear-gradient(135deg, 
    oklch(0.65 0.15 142) 0%, 
    oklch(0.7 0.12 152) 100%
  );
  color: var(--fishing-soft-white);
  border-left: 4px solid oklch(0.8 0.2 142);
}

/* Interactive elements enhancements */
.fishing-interactive-element {
  transition: all 0.3s var(--fishing-ease-wave);
  cursor: pointer;
  position: relative;
}

.fishing-interactive-element:hover {
  transform: translateY(-2px);
  box-shadow: var(--fishing-shadow-sunset);
}

.fishing-interactive-element:active {
  transform: translateY(0px);
  transition: transform 0.1s var(--fishing-ease-wave);
}

/* Fishing emoji enhancements */
.fishing-emoji {
  display: inline-block;
  transition: transform 0.2s var(--fishing-ease-bounce);
}

.fishing-emoji:hover {
  transform: scale(1.2);
  filter: saturate(1.3) brightness(1.1);
}

/* Status indicators with fishing theme */
.fishing-status-online {
  background: oklch(0.65 0.15 142);
  box-shadow: 0 0 6px oklch(0.65 0.15 142 / 0.5);
  animation: pulse 2s infinite;
}

.fishing-status-fishing {
  background: var(--fishing-ocean-blue);
  box-shadow: 0 0 6px var(--fishing-ocean-blue);
  animation: fishingBob 2s ease-in-out infinite;
}

@keyframes pulse {
  0%, 100% { opacity: 1; }
  50% { opacity: 0.7; }
}

/* Accessibility enhancements */
.fishing-chat-container {
  /* High contrast mode support */
  @media (prefers-contrast: high) {
    --fishing-neutral-border: oklch(0.5 0 0);
    
    .str-chat__message-simple__content {
      border: 2px solid var(--fishing-dark-slate);
    }
  }
  
  /* Reduced motion support */
  @media (prefers-reduced-motion: reduce) {
    * {
      animation-duration: 0.01ms !important;
      animation-iteration-count: 1 !important;
      transition-duration: 0.01ms !important;
    }
  }
  
  /* Focus management */
  button:focus,
  input:focus,
  textarea:focus,
  [tabindex]:focus {
    outline: 2px solid var(--fishing-ocean-blue);
    outline-offset: 2px;
    border-radius: 4px;
  }
}

/* Print styles */
@media print {
  .fishing-chat-container {
    background: white;
    color: black;
    
    .str-chat__message-simple__content {
      background: white !important;
      border: 1px solid #ccc !important;
      box-shadow: none !important;
    }
    
    .str-chat__channel-header {
      background: #f5f5f5 !important;
      color: black !important;
    }
    
    /* Hide interactive elements in print */
    .file-upload-btn,
    .emoji-toggle-btn,
    .reply-button,
    .mobile-nav,
    .header-actions {
      display: none !important;
    }
  }
}

/* Theme consistency utilities */
.fishing-primary { color: var(--fishing-ocean-blue); }
.fishing-secondary { color: var(--fishing-sunset-orange); }
.fishing-accent { color: var(--fishing-light-sand); }
.fishing-text { color: var(--fishing-dark-slate); }
.fishing-text-light { color: var(--fishing-medium-gray); }

.fishing-bg-primary { background: var(--fishing-ocean-blue); }
.fishing-bg-secondary { background: var(--fishing-sunset-orange); }
.fishing-bg-accent { background: var(--fishing-light-sand); }
.fishing-bg-white { background: var(--fishing-soft-white); }

.fishing-border-primary { border-color: var(--fishing-ocean-blue); }
.fishing-border-secondary { border-color: var(--fishing-sunset-orange); }
.fishing-border-neutral { border-color: var(--fishing-neutral-border); }

/* Scrollbar theming for all chat components */
.fishing-chat-container ::-webkit-scrollbar {
  width: 6px;
  height: 6px;
}

.fishing-chat-container ::-webkit-scrollbar-track {
  background: var(--fishing-light-sand);
  border-radius: 3px;
}

.fishing-chat-container ::-webkit-scrollbar-thumb {
  background: var(--fishing-ocean-blue);
  border-radius: 3px;
  transition: background 0.2s var(--fishing-ease-wave);
}

.fishing-chat-container ::-webkit-scrollbar-thumb:hover {
  background: oklch(0.45 0.15 240);
}

.fishing-chat-container ::-webkit-scrollbar-corner {
  background: var(--fishing-light-sand);
}

/* Loading states with fishing theme */
.fishing-loading {
  position: relative;
  color: var(--fishing-ocean-blue);
}

.fishing-loading::before {
  content: 'üé£';
  animation: fishingBob 1.5s ease-in-out infinite;
  margin-right: 8px;
}

/* Error states */
.fishing-error {
  background: oklch(0.577 0.245 27.325 / 0.1);
  border: 1px solid oklch(0.577 0.245 27.325 / 0.3);
  color: oklch(0.577 0.245 27.325);
  border-radius: 8px;
  padding: 12px;
  margin: 8px 0;
}

.fishing-error::before {
  content: '‚ö†Ô∏è ';
  margin-right: 8px;
}

/* Success states */
.fishing-success {
  background: oklch(0.65 0.15 142 / 0.1);
  border: 1px solid oklch(0.65 0.15 142 / 0.3);
  color: oklch(0.65 0.15 142);
  border-radius: 8px;
  padding: 12px;
  margin: 8px 0;
}

.fishing-success::before {
  content: '‚úÖ ';
  margin-right: 8px;
}

/* Theme integration completed indicator */
.fishing-chat-theme-loaded {
  opacity: 1;
  transition: opacity 0.5s var(--fishing-ease-wave);
}

/* Ensure all components use the fishing theme */
.fishing-chat-container * {
  box-sizing: border-box;
}

/* Final polish: subtle water-like background pattern for the main chat area */
.str-chat__message-list {
  background-image: 
    radial-gradient(circle at 20% 50%, var(--fishing-ocean-blue) 0%, transparent 50%),
    radial-gradient(circle at 80% 50%, var(--fishing-sunset-orange) 0%, transparent 50%);
  background-size: 200px 200px, 180px 180px;
  background-position: 0% 0%, 100% 100%;
  background-repeat: no-repeat;
  background-attachment: fixed;
  opacity: 0.02;
  position: relative;
}

.str-chat__message-list::before {
  content: '';
  position: absolute;
  inset: 0;
  background: var(--fishing-tide-gradient);
  opacity: 0.3;
  pointer-events: none;
  z-index: -1;
}
